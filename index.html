<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hello PWA</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="main.css">
  <link rel="manifest" href="mainifest.json">
  <link rel="icon" href="icon.png" type="image/png" />
  <script type="text/javascript" src="https://unpkg.com/vue"></script>
</head>
<body>
  <div id="app">
    <h3>{{title}}</h3>
    <img src="test.jpg" alt="">
    <ul>
      <li v-for="(item,index) in list" :key="index">{{item.title}}</li>
    </ul>
  </div>
</body>
<script src="./index.js"></script>
<script>
  // 检测浏览器是否支持SW
  if(navigator.serviceWorker != null){
    navigator.serviceWorker.register('sw.js')
    .then(function(registartion){
    //注册成功
      console.log('注册成功:',registartion.scope)
    }).catch(function (err){
      console.log('fail')
    });
  }
</script>
<script>
  new Vue({
    el: '#app',
    data: {
      title: 'Hello',
      list: [],
    },
    mounted() {
      getNews().then((res) => {
        const { title, list } = res.data;
        this.title = title;
        this.list = list;
      })
    }
  })
  
</script>
</html>
